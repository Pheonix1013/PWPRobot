<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>PWP Robot Control</title>
</head>
<body>
  <table border="1" width="100%" height="100%">
    <tr height="50%">
      <td width="50%" align="center" valign="middle">
        <h3><img src="http://192.168.240.4:5000/video_feed" width="480" height="320"></h3>
      </td>

      <td width="50%" align="center" valign="middle">
        <table>
          <tr align="center">
            <td></td>
            <td><button onclick="sendCommand('forward')">&#8593;</button></td> <!-- ↑ -->
            <td></td>
          </tr>
          <tr align="center">
            <td><button onclick="sendCommand('left')">&#8592;</button></td> <!-- ← -->
            <td><button onclick="stopMotor()">&#9632;</button></td> <!-- ■ -->
            <td><button onclick="sendCommand('right')">&#8594;</button></td> <!-- → -->
          </tr>
          <tr align="center">
            <td></td>
            <td><button onclick="sendCommand('backward')">&#8595;</button></td> <!-- ↓ -->
            <td></td>
          </tr>
        </table>
      </td>
    </tr>

    <tr height="50%">
      <td width="50%" align="center" valign="middle">
        <h3><img src="http://192.168.240.4:5000/video_feed" width="480" height="320"></h3>
      </td>
      <td width="50%" align="center" valign="middle">
        <h3>Placeholder (bottom-right)</h3>
      </td>
    </tr>
  </table>

  <script>
    const API_BASE = "http://127.0.0.1:5000"; // change to your Pi IP if needed

    async function sendCommand(direction) {
      try {
        const response = await fetch(`${API_BASE}/${direction}`, {
          method: "POST",
          headers: { "Content-Type": "application/json" }
        });
        const data = await response.json();
        console.log("Response:", data);
      } catch (error) {
        console.error("Error sending command:", error);
      }
    }

    async function stopMotor() {
      try {
        const response = await fetch(`${API_BASE}/stop`, {
          method: "POST",
          headers: { "Content-Type": "application/json" }
        });
        const data = await response.json();
        console.log("Response:", data);
      } catch (error) {
        console.error("Error sending command:", error);
      }
    }

  </script>
</body>
</html>
